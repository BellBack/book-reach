(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{21:function(e,t,s){},22:function(e,t,s){},33:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(2),n=s(0);function o(e){var t=e.src,s=e.title;return t?Object(n.jsx)("img",{src:t,alt:"bookImg"}):Object(n.jsx)("div",{className:"divImgCloser",children:Object(n.jsx)("span",{className:"divImgCloser__text",children:s})})}s(21);var r=s.p+"static/media/exit.2b87ced8.svg";function i(e){var t=e.books,s=(e.categorie,e.setView),i=e.allResults,l=Object(a.useState)(""),u=Object(c.a)(l,2),b=u[0],j=u[1],d=i>0?"All results : ".concat(i):null;if(!t)return null;if(b){var v,h,m,p=t.find((function(e){return e.id===b})).volumeInfo,O=p.categories?"["+p.categories+"]":null,f="undefined"==typeof p.description?"Sorry, this book has no description":p.description;return m=(null===p||void 0===p||null===(v=p.imageLinks)||void 0===v?void 0:v.smallThumbnail)||(null===p||void 0===p||null===(h=p.imageLinks)||void 0===h?void 0:h.Thumbnail),console.log(p),Object(n.jsxs)("div",{className:"view-book",children:[Object(n.jsxs)("div",{className:"view-book__img-conteiner",children:[Object(n.jsx)("div",{className:"view-book__img-item",children:Object(n.jsx)(o,{src:m,title:p.title})}),Object(n.jsxs)("div",{className:"view-book__text-item",children:[Object(n.jsx)("p",{className:"title",children:p.title}),Object(n.jsx)("p",{className:"authors",children:p.authors})]})]}),Object(n.jsxs)("div",{className:"view-book__text-conteiner",children:[Object(n.jsx)("span",{className:"categories",children:O}),Object(n.jsx)("p",{className:"view-book__description",children:f}),Object(n.jsx)("img",{class:"view-book__exit",src:r,onClick:function(e){j(""),s("")}})]})]})}return Object(n.jsxs)(n.Fragment,{children:[d,Object(n.jsx)("ul",{className:"books-list",children:t.map((function(e,t){var a,c,r,i=e.volumeInfo,l=i.categories?"["+i.categories+"]":null,u=e.id;return r=(null===i||void 0===i||null===(a=i.imageLinks)||void 0===a?void 0:a.smallThumbnail)||(null===i||void 0===i||null===(c=i.imageLinks)||void 0===c?void 0:c.Thumbnail),Object(n.jsx)("li",{className:"books-list__item",children:Object(n.jsx)("button",{onClick:function(){return function(e){j(e),s(e)}(u)},className:"bookViuweBtn",type:"button",children:Object(n.jsxs)("div",{children:[Object(n.jsx)(o,{src:r,title:i.title}),Object(n.jsx)("p",{className:"categories",children:l}),Object(n.jsx)("p",{className:"title",children:i.title})]})})},e.etag)}))})]})}s(22);var l=s.p+"static/media/load-more-arrow.7f4c9330.svg",u=function(e){var t=e.books,s=e.getMoreBooks,a=e.viewBook;return t[1]?a?null:Object(n.jsx)("img",{class:"LoadMoreBtn",onClick:s,src:l}):null},b=s.p+"static/media/loupe-search.efbb0947.svg",j=s(6),d=s(3),v=s.n(d),h=s(5),m=s(10),p=s(11),O=s(18),f=s(17),k=s(7),x=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,[{key:"checkStatus",value:function(){var e=Object(h.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,200===t.status){e.next=3;break}throw new Error;case 3:return e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"myFetch",value:function(){var e=Object(h.a)(v.a.mark((function e(t){var s,a,c,n=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.length>1&&void 0!==n[1]?n[1]:{},a={method:s.method||"GET",headers:Object(k.a)({},s.headers),body:s.body},e.next=4,fetch(t,a);case 4:return c=e.sent,e.next=7,this.checkStatus(c);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),g=s(15),y=s(12),S={booksState:{books:[],isLoadingBooks:!1,errorStatus:!1,errorMessage:"",allResults:0}},w=Object(y.b)({name:"bookSlice",initialState:S,reducers:{setLoading:function(e,t){var s=t.payload;e.booksState.isLoadingBooks=s},setBooks:function(e,t){var s=t.payload;e.booksState.books=[].concat(Object(g.a)(e.booksState.books),Object(g.a)(s))},setError:function(e,t){var s=t.payload,a=s.message,c=s.status;e.booksState.errorMessage=a,e.booksState.errorStatus=c},setDefState:function(e){e.booksState=S.booksState},setAllResults:function(e,t){var s=t.payload;e.booksState.allResults=s}}}),_=w.actions,N=w.reducer,B=function(e){Object(O.a)(s,e);var t=Object(f.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).baseURL="https://www.googleapis.com/books/v1/volumes?",e}return Object(p.a)(s,[{key:"getBooksByParams",value:function(e){var t=this;return function(){var s=Object(h.a)(v.a.mark((function s(a){var c,n,o,r;return v.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a(_.setLoading(!0)),c="".concat(t.baseURL).concat(e),s.next=5,t.myFetch(c);case 5:n=s.sent,o=n.items,r=n.totalItems,a(_.setAllResults(r)),a(_.setBooks(o)),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(0),a(_.setError({status:!0,message:s.t0.message}));case 15:return s.prev=15,a(_.setLoading(!1)),s.finish(15);case 18:case"end":return s.stop()}}),s,null,[[0,12,15,18]])})));return function(e){return s.apply(this,arguments)}}()}},{key:"setDefState",value:function(){return function(e){return e(_.setDefState())}}}]),s}(x),L=new B,R=s.p+"static/media/preloader.357ae8b6.gif",C=function(e){var t=e.isLoading;return console.log(t+" preloader"),t?Object(n.jsx)("img",{className:"preloader",src:R,alt:"preloader"}):null};function I(){var e=Object(j.b)(),t=Object(a.useState)(30),s=Object(c.a)(t,2),o=s[0],r=s[1],l=Object(a.useState)(""),d=Object(c.a)(l,2),v=d[0],h=d[1],m=Object(a.useState)("all"),p=Object(c.a)(m,2),O=p[0],f=p[1],k=Object(a.useState)(""),x=Object(c.a)(k,2),g=x[0],y=x[1],S=Object(a.useState)("relevance"),w=Object(c.a)(S,2),_=w[0],N=w[1],B=Object(a.useState)(""),R=Object(c.a)(B,2),I=R[0],M=R[1],A=Object(j.c)((function(e){return e.bookSlice.booksState})),D=A.books,E=A.isLoadingBooks,T=(A.errorStatus,A.errorMessage,A.allResults);console.log(E);return Object(n.jsxs)("div",{className:"search",children:[Object(n.jsx)("div",{className:"search__container",children:Object(n.jsxs)("form",{className:"search__form",onSubmit:function(t){t.preventDefault(),e(L.setDefState());var s="q=".concat(v,"+intitle:").concat(v).concat(g,"&orderBy=").concat(_,"&maxResults=30");e(L.getBooksByParams(s))},children:[Object(n.jsxs)("div",{className:"search__form-input",children:[Object(n.jsx)("input",{type:"text",placeholder:"Search of books...",className:"search__input",onChange:function(e){return h(e.target.value)},value:v}),Object(n.jsx)("input",{class:"seach__loupe",type:"image",src:b,alt:"Submit"})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("label",{children:["Category:",Object(n.jsxs)("select",{value:_,onChange:function(e){return N(e.target.value)},children:[Object(n.jsx)("option",{value:"relevance",children:"relevance"}),Object(n.jsx)("option",{value:"newest",children:"newest"})]})]}),Object(n.jsxs)("label",{children:["Genre:",Object(n.jsxs)("select",{value:O,onChange:function(e){f(e.target.value),"all"===e.target.value?y(""):y("+subject:"+e.target.value)},children:[Object(n.jsx)("option",{value:"all",children:"all"}),Object(n.jsx)("option",{value:"art",children:"art"}),Object(n.jsx)("option",{value:"biography",children:"biography"}),Object(n.jsx)("option",{value:"computers",children:"computers"}),Object(n.jsx)("option",{value:"history",children:"history"}),Object(n.jsx)("option",{value:"medical",children:"medical"}),Object(n.jsx)("option",{value:"poetry",children:"poetry"})]})]})]})]})}),Object(n.jsx)(C,{isLoading:E}),Object(n.jsx)(i,{books:D,category:O,setView:M,allResults:T}),Object(n.jsx)(u,{books:D,getMoreBooks:function(){var t="q=".concat(v,"+intitle:").concat(v).concat(g,"&orderBy=").concat(_,"&maxResults=30&startIndex=").concat(o);e(L.getBooksByParams(t)),r(o+31)},viewBook:I})]})}s(33);function M(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(I,{})})}var A=s(8),D=(s(34),Object(y.a)({reducer:{bookSlice:N}}));Object(A.render)(Object(n.jsx)(j.a,{store:D,children:Object(n.jsx)(M,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.fb907028.chunk.js.map